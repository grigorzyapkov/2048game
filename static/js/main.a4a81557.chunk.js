(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=n(8),c=n.n(o),a=(n(13),n(14),n(2)),s=(n(15),n(0)),u=function(t){return Object(s.jsx)("div",{className:"container",children:t.children})},l=420,d=520,f=73,j=97,v=121,b=n(6),O=n(7),p=[0,1,2,3],h=function(t){if(t.length<16)return!1;for(var e=function(t,e,n){return t.some((function(t){return e.some((function(e){return n(t)===n(e)&&t.value===e.value}))}))},n=0;n<3;n++)if(e(N(t,n),N(t,n+1),(function(t){return t.positionY}))||e(S(t,n),S(t,n+1),(function(t){return t.positionX})))return!1;return!0},x=function(t){var e=w(t),n=0,i={};return t.forEach((function(t){var r="".concat(t.positionX).concat(t.positionY);if(i[r]){var o=2*parseInt(t.value);i[r]=Object(O.a)(Object(O.a)({},t),{},{id:e++,value:o.toString()}),n+=o}else i[r]=t})),[Object.values(i),n]},m=function(t,e){return y(t,(function(t){return t.positionY}),(function(t,e){return t.positionY=e}),e)},g=function(t,e){return y(t,(function(t){return t.positionX}),(function(t,e){return t.positionX=e}),e)},y=function(t,e,n,i){if(0===t.length)return[];var r=JSON.parse(JSON.stringify(t));r.sort((function(t,n){return e(t)-e(n)}));for(var o="left"===i?0:4-r.length,c=0;c<r.length;c++)n(r[c],o+c);"left"===i&&r.reverse();for(var a=r.length-1;a>=1;)if(r[a].value!==r[a-1].value||"2048"===r[a].value)a--;else{for(var s=0;s<=a-1;s++){var u="right"===i?1:-1;n(r[s],e(r[s])+u)}a-=2}return r},C=function(t,e,n){return t.some((function(t){return t.positionX===e&&t.positionY===n}))},N=function(t,e){return t.filter((function(t){return t.positionX===e}))},S=function(t,e){return t.filter((function(t){return t.positionY===e}))},w=function(t){return X(t)+1},X=function(t){return Math.max.apply(Math,t.map((function(t){return t.id})))},Y=function(t,e){var n,i;return null===t&&null===e||(t&&(null===(n=Object.keys(t))||void 0===n?void 0:n.length))===(e&&(null===(i=Object.keys(e))||void 0===i?void 0:i.length))&&Object.keys(t).every((function(n){return t[n]===e[n]}))},E=(n(17),function(t){return Object(s.jsx)("button",{id:t.id,className:"appButton",onClick:t.onClick,children:t.children})}),k=(n(18),function(t){return Object(s.jsx)("div",{className:"tile tile-".concat(t.value),style:{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")},children:Object(s.jsx)("div",{className:"tileInner",children:t.value})})}),A=(n(19),function(t){return Object(s.jsx)("div",{className:"boardContainer",children:t.children})}),T=function(){var t=Object(i.useContext)(z).handleRestart;return Object(s.jsxs)("div",{id:"gameOverContainer",className:"gameOverContainer",children:[Object(s.jsx)("p",{children:"Game Over!"}),Object(s.jsx)(E,{onClick:t,children:"Try again"})]})},B=function(){var t=Array.from(Array(4).keys()).map((function(t){var e=Array.from(Array(4).keys()).map((function(t){return Object(s.jsx)("div",{className:"cell"},t)}));return Object(s.jsx)("div",{className:"row",children:e},t)}));return Object(s.jsx)("div",{className:"gridContainer",children:t})},M=function(){return window.innerWidth<=l?f:window.innerWidth<=d?j:v},L=function(t){var e=Object(i.useState)(M()),n=Object(a.a)(e,2),r=n[0],o=n[1];return Object(i.useEffect)((function(){var t=function(){o(M())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(s.jsx)("div",{children:t.values.map((function(t){return Object(s.jsx)(k,{value:t.value,x:t.positionY*r,y:t.positionX*r},t.id)}))})},J=function(){var t=Object(i.useContext)(z).boardState.sort((function(t,e){return t.id-e.id}));return Object(s.jsx)("div",{className:"tileContainer",children:Object(s.jsx)(L,{values:t})})},I=function(){var t=Object(i.useContext)(z).boardState;return Object(s.jsxs)(A,{children:[h(x(t)[0])&&Object(s.jsx)(T,{}),Object(s.jsx)(B,{}),Object(s.jsx)(J,{})]})},R=(n(20),n(21),function(t){return Object(i.useEffect)((function(){}),[t.showAddition]),Object(s.jsxs)("div",{className:"scoreBox",children:[Object(s.jsx)("span",{className:"title",children:t.title}),Object(s.jsx)("span",{className:"score",children:t.score})]})}),F=function(){var t=Object(i.useContext)(z),e=t.score,n=t.addScore;return Object(i.useEffect)((function(){if(0!==n){var t=document.createElement("div");t.id="additionScore",t.classList.add("addScore"),t.innerText="+".concat(n);var e=document.getElementById("currentScoreBox");2===e.childElementCount?e.replaceChild(t,e.lastChild):e.appendChild(t)}}),[e,n]),Object(s.jsxs)("div",{className:"scoresContainer",children:[Object(s.jsx)("div",{id:"currentScoreBox",style:{position:"relative"},children:Object(s.jsx)(R,{title:"SCORE",score:e})}),Object(s.jsx)(R,{title:"BEST",score:e})]})},D=(n(22),function(){return Object(s.jsx)("span",{className:"gameTitle",children:"2048"})}),G=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Join the tiles, get to 2048!"}),Object(s.jsx)("br",{}),Object(s.jsx)("a",{href:"#id",children:"How to play \u2192"})]})},P=function(){var t=Object(i.useContext)(z).handleRestart;return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsxs)("div",{className:"centeredText",children:[Object(s.jsx)(D,{}),Object(s.jsx)(G,{})]}),Object(s.jsxs)("div",{className:"actions",children:[Object(s.jsx)(F,{}),Object(s.jsx)(E,{id:"restartGameBtn",onClick:function(e){return t()},children:"New Game"})]})]})},z=r.a.createContext(null),W={ArrowUp:function(t){return p.map((function(e){return g(S(t,e),"left")})).flat()},ArrowDown:function(t){return p.map((function(e){return g(S(t,e),"right")})).flat()},ArrowRight:function(t){return p.map((function(e){return m(N(t,e),"right")})).flat()},ArrowLeft:function(t){return p.map((function(e){return m(N(t,e),"left")})).flat()}},q=function(){var t=Object(i.useState)([].concat(H)),e=Object(a.a)(t,2),n=e[0],r=e[1],o=Object(i.useState)(0),c=Object(a.a)(o,2),l=c[0],d=c[1],f=Object(i.useState)(0),j=Object(a.a)(f,2),v=j[0],O=j[1];Object(i.useEffect)((function(){var t=function(t){t.preventDefault();var e=W[t.key];if(e){var i,o=e(n);if(i=o,n.every((function(t){return i.some((function(e){return Y(t,e)}))})))console.log("equal");else r(o),setTimeout((function(){var t=x(o),e=Object(a.a)(t,2),n=e[0],i=e[1];r(n),d(l+i),O(i),setTimeout((function(){var t=function(t){var e=JSON.parse(JSON.stringify(t)),n=function(t){return[Math.floor(t/4),t%4]};Math.floor(16*Math.random());for(var i=Math.floor(16*Math.random()),r=n(i);C.apply(void 0,[t].concat(Object(b.a)(r)));)r=n(i=15===i?0:i+1);var o=Math.random()<=.2?"4":"2";return[].concat(Object(b.a)(e),[{id:w(t),value:o,positionX:r[0],positionY:r[1]}])}(n);r(t)}),150)}),100)}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[n,l]);return Object(s.jsx)(z.Provider,{value:{boardState:n,score:l,addScore:v,handleRestart:function(){r([]),setTimeout((function(){r([].concat(H))}),100),d(0)}},children:Object(s.jsxs)(u,{children:[Object(s.jsx)(P,{}),Object(s.jsx)(I,{})]})})},H=[{id:5,value:"16",positionX:1,positionY:0},{id:6,value:"8",positionX:1,positionY:1},{id:7,value:"4",positionX:1,positionY:2},{id:8,value:"2",positionX:1,positionY:3},{id:9,value:"2",positionX:2,positionY:0},{id:10,value:"4",positionX:2,positionY:1},{id:11,value:"8",positionX:2,positionY:2},{id:12,value:"16",positionX:2,positionY:3},{id:13,value:"16",positionX:3,positionY:0},{id:14,value:"8",positionX:3,positionY:1},{id:15,value:"4",positionX:3,positionY:2}];var U=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("main",{children:Object(s.jsx)(q,{})})})},K=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),i(t),r(t),o(t),c(t)}))};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(U,{})}),document.getElementById("root")),K()}],[[23,1,2]]]);
//# sourceMappingURL=main.a4a81557.chunk.js.map