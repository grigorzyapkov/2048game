(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],[,,,,,,,,,,,,,function(t,n,e){},function(t,n,e){},function(t,n,e){},,function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var i=e(1),r=e.n(i),o=e(8),c=e.n(o),a=(e(13),e(14),e(2)),s=(e(15),e(0)),u=function(t){return Object(s.jsx)("div",{className:"container",children:t.children})},l=420,d=520,f=72.6,j=96.8,v=121,p=e(6),b=e(7),O=[0,1,2,3],h=function(t){if(t.length<16)return!1;for(var n=function(t,n,e){return t.some((function(t){return n.some((function(n){return e(t)===e(n)&&t.value===n.value}))}))},e=0;e<3;e++)if(n(N(t,e),N(t,e+1),(function(t){return t.positionY}))||n(X(t,e),X(t,e+1),(function(t){return t.positionX})))return!1;return!0},x=function(t){var n=Y(t),e=0,i={};return t.forEach((function(t){var r="".concat(t.positionX).concat(t.positionY);if(i[r]){var o=2*parseInt(t.value);i[r]=Object(b.a)(Object(b.a)({},t),{},{id:n++,value:o.toString()}),e+=o}else i[r]=t})),[Object.values(i),e]},m=function(t,n){return y(t,(function(t){return t.positionY}),(function(t,n){return t.positionY=n}),n)},g=function(t,n){return y(t,(function(t){return t.positionX}),(function(t,n){return t.positionX=n}),n)},y=function(t,n,e,i){if(0===t.length)return[];var r=JSON.parse(JSON.stringify(t));r.sort((function(t,e){return n(t)-n(e)}));for(var o="left"===i?0:4-r.length,c=0;c<r.length;c++)e(r[c],o+c);"left"===i&&r.reverse();for(var a=r.length-1;a>=1;)if(r[a].value!==r[a-1].value||"2048"===r[a].value)a--;else{for(var s=0;s<=a-1;s++){var u="right"===i?1:-1;e(r[s],n(r[s])+u)}a-=2}return r},C=function(t,n,e){return t.some((function(t){return t.positionX===n&&t.positionY===e}))},N=function(t,n){return t.filter((function(t){return t.positionX===n}))},X=function(t,n){return t.filter((function(t){return t.positionY===n}))},Y=function(t){return S(t)+1},S=function(t){return Math.max.apply(Math,t.map((function(t){return t.id})))},w=function(t,n){var e,i;return null===t&&null===n||(t&&(null===(e=Object.keys(t))||void 0===e?void 0:e.length))===(n&&(null===(i=Object.keys(n))||void 0===i?void 0:i.length))&&Object.keys(t).every((function(e){return t[e]===n[e]}))},E=(e(17),function(t){return Object(s.jsx)("button",{id:t.id,className:"appButton",onClick:t.onClick,children:t.children})}),k=(e(18),function(t){return Object(s.jsx)("div",{className:"tile tile-".concat(t.value),style:{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")},children:Object(s.jsx)("div",{className:"tileInner",children:t.value})})}),A=(e(19),function(t){return Object(s.jsx)("div",{className:"boardContainer",children:t.children})}),T=function(){var t=Object(i.useContext)(z).handleRestart;return Object(s.jsxs)("div",{id:"gameOverContainer",className:"gameOverContainer",children:[Object(s.jsx)("p",{children:"Game Over!"}),Object(s.jsx)(E,{onClick:t,children:"Try again"})]})},B=function(){var t=Array.from(Array(4).keys()).map((function(t){var n=Array.from(Array(4).keys()).map((function(t){return Object(s.jsx)("div",{className:"cell"},t)}));return Object(s.jsx)("div",{className:"row",children:n},t)}));return Object(s.jsx)("div",{className:"gridContainer",children:t})},M=function(){return window.innerWidth<=l?f:window.innerWidth<=d?j:v},L=function(t){var n=Object(i.useState)(M()),e=Object(a.a)(n,2),r=e[0],o=e[1];return Object(i.useEffect)((function(){var t=function(){o(M())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(s.jsx)("div",{children:t.values.map((function(t){return Object(s.jsx)(k,{value:t.value,x:t.positionY*r,y:t.positionX*r},t.id)}))})},J=function(){var t=Object(i.useContext)(z).boardState.sort((function(t,n){return t.id-n.id}));return Object(s.jsx)("div",{className:"tileContainer",children:Object(s.jsx)(L,{values:t})})},I=function(){var t=Object(i.useContext)(z).boardState;return Object(s.jsxs)(A,{children:[h(x(t)[0])&&Object(s.jsx)(T,{}),Object(s.jsx)(B,{}),Object(s.jsx)(J,{})]})},R=(e(20),e(21),function(t){return Object(i.useEffect)((function(){}),[t.showAddition]),Object(s.jsxs)("div",{className:"scoreBox",children:[Object(s.jsx)("span",{className:"title",children:t.title}),Object(s.jsx)("span",{className:"score",children:t.score})]})}),F=function(){var t=Object(i.useContext)(z),n=t.score,e=t.addScore;return Object(i.useEffect)((function(){if(0!==e){var t=document.createElement("div");t.id="additionScore",t.classList.add("addScore"),t.innerText="+".concat(e);var n=document.getElementById("currentScoreBox");2===n.childElementCount?n.replaceChild(t,n.lastChild):n.appendChild(t)}}),[n,e]),Object(s.jsxs)("div",{className:"scoresContainer",children:[Object(s.jsx)("div",{id:"currentScoreBox",style:{position:"relative"},children:Object(s.jsx)(R,{title:"SCORE",score:n})}),Object(s.jsx)(R,{title:"BEST",score:n})]})},D=(e(22),function(){return Object(s.jsx)("span",{className:"gameTitle",children:"2048"})}),G=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Join the tiles, get to 2048!"}),Object(s.jsx)("br",{}),Object(s.jsx)("a",{href:"#id",children:"How to play \u2192"})]})},P=function(){var t=Object(i.useContext)(z).handleRestart;return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsxs)("div",{className:"centeredText",children:[Object(s.jsx)(D,{}),Object(s.jsx)(G,{})]}),Object(s.jsxs)("div",{className:"actions",children:[Object(s.jsx)(F,{}),Object(s.jsx)(E,{id:"restartGameBtn",onClick:function(n){return t()},children:"New Game"})]})]})},z=r.a.createContext(null),W={ArrowUp:function(t){return O.map((function(n){return g(X(t,n),"left")})).flat()},ArrowDown:function(t){return O.map((function(n){return g(X(t,n),"right")})).flat()},ArrowRight:function(t){return O.map((function(n){return m(N(t,n),"right")})).flat()},ArrowLeft:function(t){return O.map((function(n){return m(N(t,n),"left")})).flat()}},q=function(){var t=Object(i.useState)([].concat(H)),n=Object(a.a)(t,2),e=n[0],r=n[1],o=Object(i.useState)(0),c=Object(a.a)(o,2),l=c[0],d=c[1],f=Object(i.useState)(0),j=Object(a.a)(f,2),v=j[0],b=j[1];Object(i.useEffect)((function(){var t=function(t){t.preventDefault();var n=W[t.key];if(n){var i,o=n(e);if(i=o,e.every((function(t){return i.some((function(n){return w(t,n)}))})))console.log("equal");else r(o),setTimeout((function(){var t=x(o),n=Object(a.a)(t,2),e=n[0],i=n[1];r(e),d(l+i),b(i),setTimeout((function(){var t=function(t){var n=JSON.parse(JSON.stringify(t)),e=function(t){return[Math.floor(t/4),t%4]};Math.floor(16*Math.random());for(var i=Math.floor(16*Math.random()),r=e(i);C.apply(void 0,[t].concat(Object(p.a)(r)));)r=e(i=15===i?0:i+1);var o=Math.random()<=.2?"4":"2";return[].concat(Object(p.a)(n),[{id:Y(t),value:o,positionX:r[0],positionY:r[1]}])}(e);r(t)}),150)}),100)}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e,l]);return Object(s.jsx)(z.Provider,{value:{boardState:e,score:l,addScore:v,handleRestart:function(){r([]),setTimeout((function(){r([].concat(H))}),100),d(0)}},children:Object(s.jsxs)(u,{children:[Object(s.jsx)(P,{}),Object(s.jsx)(I,{})]})})},H=[{id:1,value:"2",positionX:0,positionY:0},{id:2,value:"4",positionX:0,positionY:1},{id:3,value:"8",positionX:0,positionY:2},{id:4,value:"16",positionX:0,positionY:3},{id:5,value:"16",positionX:1,positionY:0},{id:6,value:"8",positionX:1,positionY:1},{id:7,value:"4",positionX:1,positionY:2},{id:8,value:"2",positionX:1,positionY:3},{id:9,value:"2",positionX:2,positionY:0},{id:10,value:"4",positionX:2,positionY:1},{id:11,value:"8",positionX:2,positionY:2},{id:12,value:"16",positionX:2,positionY:3},{id:13,value:"16",positionX:3,positionY:0},{id:14,value:"8",positionX:3,positionY:1},{id:15,value:"4",positionX:3,positionY:2},{id:16,value:"16",positionX:3,positionY:3}];var U=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("main",{children:Object(s.jsx)(q,{})})})},K=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,24)).then((function(n){var e=n.getCLS,i=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;e(t),i(t),r(t),o(t),c(t)}))};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(U,{})}),document.getElementById("root")),K()}],[[23,1,2]]]);
//# sourceMappingURL=main.0c1205d1.chunk.js.map