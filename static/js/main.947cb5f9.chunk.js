(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],[,,,,,,,,,,,,,function(t,n,e){},function(t,n,e){},function(t,n,e){},,function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var i=e(1),r=e.n(i),o=e(8),c=e.n(o),a=(e(13),e(14),e(2)),s=(e(15),e(0)),u=function(t){return Object(s.jsx)("div",{className:"container",children:t.children})},l=e(6),d=e(7),f=[0,1,2,3],j=function(t){if(t.length<16)return!1;for(var n=function(t,n,e){return t.some((function(t){return n.some((function(n){return e(t)===e(n)&&t.value===n.value}))}))},e=0;e<3;e++)if(n(x(t,e),x(t,e+1),(function(t){return t.positionY}))||n(m(t,e),m(t,e+1),(function(t){return t.positionX})))return!1;return!0},v=function(t){var n=g(t),e=0,i={};return t.forEach((function(t){var r="".concat(t.positionX).concat(t.positionY);if(i[r]){var o=2*parseInt(t.value);i[r]=Object(d.a)(Object(d.a)({},t),{},{id:n++,value:o.toString()}),e+=o}else i[r]=t})),[Object.values(i),e]},p=function(t,n){return O(t,(function(t){return t.positionY}),(function(t,n){return t.positionY=n}),n)},b=function(t,n){return O(t,(function(t){return t.positionX}),(function(t,n){return t.positionX=n}),n)},O=function(t,n,e,i){if(0===t.length)return[];var r=JSON.parse(JSON.stringify(t));r.sort((function(t,e){return n(t)-n(e)}));for(var o="left"===i?0:4-r.length,c=0;c<r.length;c++)e(r[c],o+c);"left"===i&&r.reverse();for(var a=r.length-1;a>=1;)if(r[a].value!==r[a-1].value||"2048"===r[a].value)a--;else{for(var s=0;s<=a-1;s++){var u="right"===i?1:-1;e(r[s],n(r[s])+u)}a-=2}return r},h=function(t,n,e){return t.some((function(t){return t.positionX===n&&t.positionY===e}))},x=function(t,n){return t.filter((function(t){return t.positionX===n}))},m=function(t,n){return t.filter((function(t){return t.positionY===n}))},g=function(t){return y(t)+1},y=function(t){return Math.max.apply(Math,t.map((function(t){return t.id})))},C=function(t,n){var e,i;return null===t&&null===n||(t&&(null===(e=Object.keys(t))||void 0===e?void 0:e.length))===(n&&(null===(i=Object.keys(n))||void 0===i?void 0:i.length))&&Object.keys(t).every((function(e){return t[e]===n[e]}))},N=(e(17),function(t){return Object(s.jsx)("button",{id:t.id,className:"appButton",onClick:t.onClick,children:t.children})}),X=(e(18),function(t){return Object(s.jsx)("div",{className:"tile tile-".concat(t.value),style:{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")},children:Object(s.jsx)("div",{className:"tileInner",children:t.value})})}),Y=(e(19),function(t){return Object(s.jsx)("div",{className:"boardContainer",children:t.children})}),S=function(){var t=Object(i.useContext)(R).handleRestart;return Object(s.jsxs)("div",{id:"gameOverContainer",className:"gameOverContainer",children:[Object(s.jsx)("p",{children:"Game Over!"}),Object(s.jsx)(N,{onClick:t,children:"Try again"})]})},w=function(){var t=Array.from(Array(4).keys()).map((function(t){var n=Array.from(Array(4).keys()).map((function(t){return Object(s.jsx)("div",{className:"cell"},t)}));return Object(s.jsx)("div",{className:"row",children:n},t)}));return Object(s.jsx)("div",{className:"gridContainer",children:t})},E=function(){return window.outerWidth<=500?96.8:121},k=function(t){var n=Object(i.useState)(E()),e=Object(a.a)(n,2),r=e[0],o=e[1];return Object(i.useEffect)((function(){var t=function(){o(E())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(s.jsx)("div",{children:t.values.map((function(t){return Object(s.jsx)(X,{value:t.value,x:t.positionY*r,y:t.positionX*r},t.id)}))})},A=function(){var t=Object(i.useContext)(R).boardState.sort((function(t,n){return t.id-n.id}));return Object(s.jsx)("div",{className:"tileContainer",children:Object(s.jsx)(k,{values:t})})},T=function(){var t=Object(i.useContext)(R).boardState;return Object(s.jsxs)(Y,{children:[j(v(t)[0])&&Object(s.jsx)(S,{}),Object(s.jsx)(w,{}),Object(s.jsx)(A,{})]})},B=(e(20),e(21),function(t){return Object(i.useEffect)((function(){}),[t.showAddition]),Object(s.jsxs)("div",{className:"scoreBox",children:[Object(s.jsx)("span",{className:"title",children:t.title}),Object(s.jsx)("span",{className:"score",children:t.score})]})}),M=function(){var t=Object(i.useContext)(R),n=t.score,e=t.addScore;return Object(i.useEffect)((function(){if(0!==e){var t=document.createElement("div");t.id="additionScore",t.classList.add("addScore"),t.innerText="+".concat(e);var n=document.getElementById("currentScoreBox");2===n.childElementCount?n.replaceChild(t,n.lastChild):n.appendChild(t)}}),[n,e]),Object(s.jsxs)("div",{className:"scoresContainer",children:[Object(s.jsx)("div",{id:"currentScoreBox",style:{position:"relative"},children:Object(s.jsx)(B,{title:"SCORE",score:n})}),Object(s.jsx)(B,{title:"BEST",score:n})]})},L=(e(22),function(){return Object(s.jsx)("span",{className:"gameTitle",children:"2048"})}),J=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Join the tiles, get to 2048!"}),Object(s.jsx)("br",{}),Object(s.jsx)("a",{href:"#id",children:"How to play \u2192"})]})},I=function(){var t=Object(i.useContext)(R).handleRestart;return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsxs)("div",{className:"centeredText",children:[Object(s.jsx)(L,{}),Object(s.jsx)(J,{})]}),Object(s.jsxs)("div",{className:"actions",children:[Object(s.jsx)(M,{}),Object(s.jsx)(N,{id:"restartGameBtn",onClick:function(n){return t()},children:"New Game"})]})]})},R=r.a.createContext(null),F={ArrowUp:function(t){return f.map((function(n){return b(m(t,n),"left")})).flat()},ArrowDown:function(t){return f.map((function(n){return b(m(t,n),"right")})).flat()},ArrowRight:function(t){return f.map((function(n){return p(x(t,n),"right")})).flat()},ArrowLeft:function(t){return f.map((function(n){return p(x(t,n),"left")})).flat()}},D=function(){var t=Object(i.useState)([].concat(G)),n=Object(a.a)(t,2),e=n[0],r=n[1],o=Object(i.useState)(0),c=Object(a.a)(o,2),d=c[0],f=c[1],j=Object(i.useState)(0),p=Object(a.a)(j,2),b=p[0],O=p[1];Object(i.useEffect)((function(){var t=function(t){t.preventDefault();var n=F[t.key];if(n){var i,o=n(e);if(i=o,e.every((function(t){return i.some((function(n){return C(t,n)}))})))console.log("equal");else r(o),setTimeout((function(){var t=v(o),n=Object(a.a)(t,2),e=n[0],i=n[1];r(e),f(d+i),O(i),setTimeout((function(){var t=function(t){var n=JSON.parse(JSON.stringify(t)),e=function(t){return[Math.floor(t/4),t%4]};Math.floor(16*Math.random());for(var i=Math.floor(16*Math.random()),r=e(i);h.apply(void 0,[t].concat(Object(l.a)(r)));)r=e(i=15===i?0:i+1);var o=Math.random()<=.2?"4":"2";return[].concat(Object(l.a)(n),[{id:g(t),value:o,positionX:r[0],positionY:r[1]}])}(e);r(t)}),150)}),100)}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e,d]);return Object(s.jsx)(R.Provider,{value:{boardState:e,score:d,addScore:b,handleRestart:function(){r([]),setTimeout((function(){r([].concat(G))}),100),f(0)}},children:Object(s.jsxs)(u,{children:[Object(s.jsx)(I,{}),Object(s.jsx)(T,{})]})})},G=[{id:1,value:"2",positionX:0,positionY:0},{id:2,value:"4",positionX:0,positionY:1},{id:3,value:"8",positionX:0,positionY:2},{id:4,value:"16",positionX:0,positionY:3},{id:5,value:"16",positionX:1,positionY:0},{id:6,value:"8",positionX:1,positionY:1},{id:7,value:"4",positionX:1,positionY:2},{id:8,value:"2",positionX:1,positionY:3},{id:9,value:"2",positionX:2,positionY:0},{id:10,value:"4",positionX:2,positionY:1},{id:11,value:"8",positionX:2,positionY:2},{id:12,value:"16",positionX:2,positionY:3},{id:13,value:"16",positionX:3,positionY:0},{id:14,value:"8",positionX:3,positionY:1},{id:15,value:"4",positionX:3,positionY:2},{id:16,value:"16",positionX:3,positionY:3}];var P=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("main",{children:Object(s.jsx)(D,{})})})},z=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,24)).then((function(n){var e=n.getCLS,i=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;e(t),i(t),r(t),o(t),c(t)}))};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(P,{})}),document.getElementById("root")),z()}],[[23,1,2]]]);
//# sourceMappingURL=main.947cb5f9.chunk.js.map